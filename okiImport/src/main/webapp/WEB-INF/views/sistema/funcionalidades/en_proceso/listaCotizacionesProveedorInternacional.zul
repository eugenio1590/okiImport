<zk xmlns:w="client" xmlns:n="native">
	<window id="winCotizaciones" border="none" height="0px" width="0px"
	    closable="true" apply="org.zkoss.bind.BindComposer"
		viewModel="@id('vm') @init('com.okiimport.app.mvvm.controladores.CotizacionesProveedorInternacionalViewModel')"
		onClose="@command('onCloseWindow')">


		<n:div aria-hidden="false" class="modal fade in" role="dialog"
			tabindex="-1" style="display: block;">
			<div class="modal-dialog modal-full" height="auto"><!-- modal-xs -->
				<div sclass="modal-content">
					<include
						src="/WEB-INF/views/template/modal/titleModal.zul"
						titulo="Proveedores Internacionales con Cotizaciones Pendientes A Registrar" />
					<n:div class="modal-inner">
					
						<!-- LISTA COTIZACIONES PROVEEDOR INTERNACIONAL-->
						<borderlayout height="550px">
							<west width="100%"
								title="Informacion del Vehiculo" collapsible="false">
								<div>
									<groupbox closable="false">

										<grid>
											<columns>
												<column label="Marca:" />
												<column label="Modelo:" />
												<column label="Motor:" />
												<column
													label="Tipo de Repuesto:" />
											</columns>
											<rows>
												<row>
													<label
														value="@bind(vm.requerimiento.marcaVehiculo.nombre)" />
													<label
														value="@bind(vm.requerimiento.modeloV)" />
													<label
														value="@bind(vm.requerimiento.motor.nombre)" />
													<label
														value="@bind(vm.requerimiento.determinarTipoRepuesto())" />
												</row>
											</rows>
										</grid>
									</groupbox>

									<!-- LISTA DE COTIZACIONES-->
									<panel sclass="borderGrid">
										<panelchildren>
											<hbox width="100%"
												align="center">
												<paging
													id="pagCotizaciones" hflex="1" sclass="custom-paging"
													onPaging="@command('paginarLista')" autohide="true" />
												<div
													sclass="z-paging z-paging-info" height="28px">
													<label
														id="lblCotizaciones" sclass="rRmWwb-info" />
												</div>
											</hbox>
											<listbox
												id="gridCotizaciones" sclass="mylist"
												model="@load(vm.listaCotizacion)" pagingPosition="top"
												emptyMessage="No hay solicitudes"
												onAfterRender="@command('updatePaging', paging = pagCotizaciones, label=lblCotizaciones)">
												<auxhead>
													<auxheader />
													<auxheader
														 label="Solicitudes de Cotizacion" />

													<auxheader>
														<div
															sclass="z-icon-filter bigger-200" />
														<spinner
															value="@bind(vm.cotizacionFiltro.idCotizacion)"
															instant="true" placeholder=""
															onChange="@command('aplicarFiltro')" width="100px" />
													</auxheader>

													<auxheader>
														<div
															sclass="z-icon-filter bigger-200" />
														<datebox
															format="dd/MM/yyyy"
															value="@bind(vm.cotizacionFiltro.fechaCreacion)"
															instant="true" onChange="@command('aplicarFiltro')"
															width="100px" />
													</auxheader>

												</auxhead>
												
												<listhead>
													<listheader
														width="2%" />
													<listheader
														value="idCotizacion" label="NÂ° Solicitud"
														sort="auto(idCotizacion)" width="90px">
													</listheader>

													<listheader
														value="nombre" label="F. Creacion"
														sort="auto(fechaCreacion)" width="90px">
													</listheader>

													<listheader
														width="8%" label="Operaciones" />

												</listhead>
												<template
													name="model">
													<listitem>
														<listcell
															label="${forEachStatus.index+1}" sclass="boxed-grey" />
														<listcell
															label="@bind(each.idCotizacion)" />
														<listcell>
															<vbox>
																<datebox
																	format="dd/MM/yyyy" value="@bind(each.fechaCreacion)"
																	readonly="true" buttonVisible="false"
																	constraint="@bind(vm.notEmptyValidator)" />
															</vbox>
														</listcell>
														<listcell>
															<hbox
																spacing="20px">
																<div
																	class="btn-group btn-group-sm">
																	<button
																		iconSclass="z-icon-pencil green bigger-160"
																		tooltiptext="Cotizar"
																		onClick="@command('cotizar', cotizacion = each)" />
																</div>
															</hbox>
														</listcell>
													</listitem>
												</template>

											</listbox>
										</panelchildren>
									</panel>
								</div>
							</west>
						</borderlayout>
						
						</n:div>
					<n:div class="modal-footer"/>
				</div>
			</div>
		</n:div>
	</window>
</zk>