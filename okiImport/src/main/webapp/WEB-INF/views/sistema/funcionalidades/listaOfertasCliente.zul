<zk>
	<window border="none" apply="org.zkoss.bind.BindComposer" closable="true" sclass="btn-primary" width="70%" height="70%"
		title="@bind(vm.titulo)" id="winListaOfertas"
		viewModel="@id('vm') @init('com.okiimport.app.mvvm.controladores.ListaOfertasClienteViewModel')"
		onClose="@command('cambiarRequerimientos')">
		<borderlayout>
			<north title="Requerimiento">
				<columnlayout sclass="base_contenedor_campos">
					<columnchildren sclass="base_division_campos">
						<label value="Fecha de Creacion:"/>
						<label value="@bind(vm.getFormatoFecha(vm.requerimiento.fechaCreacion))"/>
					</columnchildren>
					<columnchildren sclass="base_division_campos">
						<label value="Estado:"/>
						<label value="@bind(vm.requerimiento.determinarEstatus())"/>
					</columnchildren>
					<columnchildren sclass="base_division_campos">
						<label value="Cliente:"/>
						<label value="@bind(vm.requerimiento.cliente.nombre)"/>
					</columnchildren>
					<!-- FALTAN DATOS -->
				</columnlayout>
			</north>
			<center title="Ofertas">
				<div>
					<listbox id="gridOfertasCliente" mold="paging"
						pageSize="10" pagingPosition="top" sclass="mylist"
						model="@load(vm.listaOfertas)">

						<listhead>

							<listheader value="idOferta" width="150px"
								label="Nro." sort="auto(idOferta)"/>

							<listheader value="fechaCreacion"
								label="F. CreaciÃ³n" sort="auto(fechaCreacion)" width="200px"/>
							
							<listheader value="estatus"
								label="Estado" sort="auto(estatus)">
							
							</listheader>
							<listheader label="Operaciones" sort="none"/>

						</listhead>
						<template name="model">
							<listitem>
								<listcell label="@bind(each.idOferta)" />
								<listcell label="@bind(vm.getFormatoFecha(each.fechaCreacion))"/>
								<listcell label="@bind(each.determinarEstatus())"/>
								<listcell>
									<hbox spacing="20px">
										<div class="btn-group btn-group-sm">
											<button  iconSclass="z-icon-eye blue bigger-160" tooltiptext="Ver Seleccion de Oferta"  
								    			onClick="@command('verOferta', oferta = each)"/>
										</div>
									</hbox>
								</listcell>
							</listitem>
						</template>

					</listbox>
					<paging id="pagOfertasCliente"
						onPaging="@command('paginarLista')" autohide="true" />
					
				</div>
			</center>
			<south border="none">
				<div width="100%" align="right">
					<div sclass="btn btn-xs btn-primary">
						<button label="Enviar a Cliente" type="submit" sclass="btn-primary"
							onClick="@command('enviarCliente')" disabled="@bind(!vm.enviarACliente())" />
					</div>
				</div>
			</south>
		</borderlayout>
	</window>
</zk>